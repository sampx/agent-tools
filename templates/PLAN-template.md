# 功能特性: [特性名称]

> **执行者须知**: 以下计划应当完整且可执行，但在开始实现前，请务必验证文档、代码库模式和任务的合理性。
> 特别注意现有类型、模型、工具函数的命名，并从正确的文件中引入。

## 功能描述 (Feature Description)

> **填写要求**: 详细描述该功能、其目的以及对用户的价值。

[描述]

## 用户故事 (User Story)

> **填写要求**: 明确目标用户、行为和价值。

作为 [用户类型]
我想要 [动作/目标]
以便于 [收益/价值]

## 问题与方案 (Problem & Solution)

> **填写要求**: 清楚定义该功能解决的具体问题或机会，并描述建议的解决方案架构及如何解决该问题。

**面临问题**: [描述问题]
**解决方案**: [描述方案]

## 基础元数据 (Feature Metadata)

> **填写要求**: 填写特性类型、估算复杂度和主要受影响的系统。

- **特性类型**: [新功能/增强/重构/Bug修复]
- **估算复杂度**: [低/中/高]
- **受影响系统**: [列出主要组件/服务]
- **核心依赖**: [所需的外部库或服务]

---

## 上下文参考 (CONTEXT REFERENCES)

### 现有代码参考

> **填写要求**: 列出与实现相关的现有文件，带上行号，并说明为何相关。**执行实现任务前必须阅读这些文件！**

- `path/to/file.py` (行 15-45) - **原因**: 包含我们将要模仿的 X 模式
- `path/to/model.py` (行 100-120) - **原因**: 需要遵循的数据库模型结构

### 需要创建的新文件

> **填写要求**: 列出计划中需要新建的文件及其用途。

- `path/to/new_service.py` - 用于 X 功能的服务实现
- `tests/path/to/test_new_service.py` - 新服务的单元测试

### 参考文档

> **填写要求**: 列出需要参考的官方文档或内部指南链接。**实现前应阅读！**

- [文档链接 1](https://example.com/doc1#section)
  - 特定章节: 认证设置
  - 原因: 实现安全端点所需

### 需遵循的代码模式

> **填写要求**: 从当前代码库中提取出的特定模式，应当附带具体示例。

- **命名约定**: [例如：服务类必须以 Service 结尾]
- **错误处理**: [例如：使用统一的 ApiError 抛出]
- **日志记录**: [例如：使用 logger.info 记录关键节点]

---

## 阶段实现计划 (IMPLEMENTATION PLAN)

> **填写要求**: 将功能按逻辑阶段划分，通常包括基础设置、核心实现、集成和测试。

### 阶段 1: 基础构建 (Foundation)
[描述实现前的基础工作]
**任务**:
- 设置基础结构（Schema、Type、Interface）
- 配置必要的依赖

### 阶段 2: 核心实现 (Core Implementation)
[描述主要实现工作]
**任务**:
- 实现核心业务逻辑
- 创建服务层组件

### 阶段 3: 集成 (Integration)
[描述如何与现有功能集成]
**任务**:
- 注册新的组件或路由
- 更新配置文件

### 阶段 4: 测试与验证 (Testing & Validation)
[描述测试方法]
**任务**:
- 为每个组件编写单元测试
- 测试边界情况

---

## 详细任务拆解 (STEP-BY-STEP TASKS)

> **重要提示**: 按从上到下的顺序执行每个任务。每个任务应当是原子的、可独立测试的。
> 使用关键词：CREATE(新建), UPDATE(更新), ADD(新增), REMOVE(移除), REFACTOR(重构), MIRROR(模仿)。

### 1. {ACTION} {target_file}

- **IMPLEMENT**: {具体的实现细节}
- **PATTERN**: {参考现有模式 - file:line}
- **IMPORTS**: {需要的导入和依赖}
- **GOTCHA**: {需要避免的已知问题或陷阱}
- **VALIDATE**: `{可执行的验证命令}`

*(继续列出所有依赖排序的任务...)*

---

## 测试策略 (TESTING STRATEGY)

> **填写要求**: 基于项目的测试框架和研究阶段发现的模式定义测试方案。

- **单元测试**: [范围和要求]
- **集成测试**: [范围和要求]
- **边界用例**: [列出必须测试的特定边界用例]

---

## 验证命令 (VALIDATION COMMANDS)

> **填写要求**: 执行每个命令以确保无回归和 100% 的功能正确性。

- **Level 1 (语法与风格)**: `[项目特定的 lint/format 命令]`
- **Level 2 (单元测试)**: `[项目特定的单元测试命令]`
- **Level 3 (手动验证)**: [API 调用、UI 测试等特定测试步骤]

---

## 验收标准 (ACCEPTANCE CRITERIA)

> **填写要求**: 列出具体、可衡量的完成标准。

- [ ] 功能实现了所有指定的需求
- [ ] 所有验证命令执行通过且无错误
- [ ] 代码遵循项目的约定和模式
- [ ] 没有破坏现有的功能回归
